# @ldesign/upload

<div align="center">

# ğŸ“¤ @ldesign/upload

**åŠŸèƒ½å¼ºå¤§ã€å¯åœ¨ä»»æ„æ¡†æ¶ä¸­ä½¿ç”¨çš„æ–‡ä»¶ä¸Šä¼ æ’ä»¶**

[![Version](https://img.shields.io/npm/v/@ldesign/upload)](https://www.npmjs.com/package/@ldesign/upload)
[![License](https://img.shields.io/npm/l/@ldesign/upload)](./LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7+-blue)](./tsconfig.json)
[![Bundle Size](https://img.shields.io/badge/Bundle-~35KB-success)]()

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) | [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) | [ç¤ºä¾‹æ¼”ç¤º](#-ç¤ºä¾‹æ¼”ç¤º) | [æ–‡æ¡£](#-æ–‡æ¡£) | [GitHub](#)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒä¸Šä¼ èƒ½åŠ›
- âœ… **å¤šç§ä¸Šä¼ æ–¹å¼**: ç‚¹å‡»ã€æ‹–æ‹½ã€ç²˜è´´ã€æ–‡ä»¶å¤¹ä¸Šä¼ 
- âœ… **åˆ†ç‰‡ä¸Šä¼ **: å¤§æ–‡ä»¶åˆ‡ç‰‡ä¸Šä¼ ï¼Œé»˜è®¤ 5MB/ç‰‡
- âœ… **æ–­ç‚¹ç»­ä¼ **: ç½‘ç»œä¸­æ–­åè‡ªåŠ¨æ¢å¤ï¼Œè¿›åº¦æŒä¹…åŒ–
- âœ… **å¹¶å‘æ§åˆ¶**: å¯é…ç½®åŒæ—¶ä¸Šä¼ æ•°é‡ï¼ˆé»˜è®¤ 3 ä¸ªï¼‰
- âœ… **ä¼˜å…ˆçº§é˜Ÿåˆ—**: æ”¯æŒæ–‡ä»¶ä¸Šä¼ ä¼˜å…ˆçº§
- âœ… **æš‚åœ/æ¢å¤/å–æ¶ˆ**: å®Œæ•´çš„ä¸Šä¼ æ§åˆ¶

### ğŸ“Š è¿›åº¦ä¸çŠ¶æ€
- âœ… **å®æ—¶è¿›åº¦**: 0-100% ç²¾ç¡®è¿›åº¦
- âœ… **ä¸Šä¼ é€Ÿåº¦**: ç§»åŠ¨å¹³å‡ç®—æ³•è®¡ç®—
- âœ… **å‰©ä½™æ—¶é—´**: æ™ºèƒ½ä¼°ç®—
- âœ… **å…¨å±€ç»Ÿè®¡**: å¤šæ–‡ä»¶æ€»ä½“è¿›åº¦

### ğŸ” æ–‡ä»¶éªŒè¯
- âœ… **ç±»å‹éªŒè¯**: MIME ç±»å‹ + æ–‡ä»¶æ‰©å±•å
- âœ… **å¤§å°éªŒè¯**: å•æ–‡ä»¶ã€æ€»å¤§å°é™åˆ¶
- âœ… **å°ºå¯¸éªŒè¯**: å›¾ç‰‡å®½é«˜éªŒè¯
- âœ… **è‡ªå®šä¹‰éªŒè¯å™¨**: æ”¯æŒå¼‚æ­¥éªŒè¯

### ğŸ–¼ï¸ å›¾ç‰‡å¤„ç†
- âœ… **æ™ºèƒ½å‹ç¼©**: è´¨é‡ã€å°ºå¯¸å¯è°ƒ
- âœ… **æ—‹è½¬ç¿»è½¬**: 90Â°ã€180Â°ã€270Â°
- âœ… **å›¾ç‰‡æ»¤é•œ**: 5 ç§å†…ç½®æ»¤é•œ
- âœ… **æ ¼å¼è½¬æ¢**: JPEGã€PNGã€WebP
- âœ… **ç¼©ç•¥å›¾**: è‡ªåŠ¨ç”Ÿæˆ

### ğŸ¥ è§†é¢‘å¤„ç†
- âœ… **å°é¢æå–**: æŒ‡å®šæ—¶é—´æˆªå›¾
- âœ… **å…ƒæ•°æ®è§£æ**: æ—¶é•¿ã€åˆ†è¾¨ç‡
- âœ… **è§†é¢‘é¢„è§ˆ**: å†…ç½®æ’­æ”¾å™¨

### â˜ï¸ äº‘å­˜å‚¨é›†æˆ
- âœ… **æ’ä»¶åŒ–æ¶æ„**: å¯æ‰©å±•é€‚é…å™¨ç³»ç»Ÿ
- âœ… **HTTP é€‚é…å™¨**: å†…ç½®æ ‡å‡†ä¸Šä¼ 
- âœ… **å®Œæ•´æ–‡æ¡£**: S3/OSS/COS/KODO é›†æˆç¤ºä¾‹

### ğŸ¨ ç²¾ç¾ UI
- âœ… **ç°ä»£åŒ–è®¾è®¡**: ç²¾ç¾çš„é»˜è®¤æ ·å¼
- âœ… **ä¸»é¢˜ç³»ç»Ÿ**: Light/Dark æ¨¡å¼
- âœ… **å“åº”å¼**: å®Œç¾æ”¯æŒç§»åŠ¨ç«¯
- âœ… **æµç•…åŠ¨ç”»**: è¿›åº¦æ¡ã€çŠ¶æ€åˆ‡æ¢

### ğŸ”Œ æ¡†æ¶æ”¯æŒ
- âœ… **Vanilla JS**: é›¶ä¾èµ–æ ¸å¿ƒåº“
- âœ… **Vue 3**: ç»„ä»¶ + Composable + æŒ‡ä»¤
- âœ… **React**: ç»„ä»¶ + Hook
- âœ… **Angular**: ç»„ä»¶ï¼ˆå³å°†æ¨å‡ºï¼‰

### ğŸ’» å¼€å‘ä½“éªŒ
- âœ… **TypeScript**: 100% ç±»å‹å®‰å…¨
- âœ… **Tree-shaking**: æŒ‰éœ€å¯¼å…¥
- âœ… **é›¶é…ç½®**: å¼€ç®±å³ç”¨
- âœ… **è¯¦ç»†æ–‡æ¡£**: 3000+ è¡Œæ–‡æ¡£

---

## ğŸ“¦ å®‰è£…

```bash
# ä½¿ç”¨ pnpm (æ¨è)
pnpm add @ldesign/upload

# ä½¿ç”¨ npm
npm install @ldesign/upload

# ä½¿ç”¨ yarn
yarn add @ldesign/upload
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Vanilla JavaScript

```typescript
import { Uploader } from '@ldesign/upload'
import '@ldesign/upload/dist/style.css'

const uploader = new Uploader({
  container: '#uploader',
  endpoint: '/api/upload',
  autoUpload: true,
  validation: {
    accept: 'image/*,video/*',
    maxSize: 10 * 1024 * 1024, // 10MB
    maxFiles: 5
  }
})

uploader.on('uploadSuccess', (fileId, response) => {
  console.log('ä¸Šä¼ æˆåŠŸï¼', response)
})
```

### Vue 3

```vue
<template>
  <VueUploader
    endpoint="/api/upload"
    :auto-upload="true"
    accept="image/*"
    :max-size="10 * 1024 * 1024"
    @upload-success="onSuccess"
  />
</template>

<script setup lang="ts">
import { VueUploader } from '@ldesign/upload/vue'
import '@ldesign/upload/dist/style.css'

const onSuccess = (fileId: string, response: any) => {
  console.log('ä¸Šä¼ æˆåŠŸï¼', response)
}
</script>
```

### React

```tsx
import { ReactUploader } from '@ldesign/upload/react'
import '@ldesign/upload/dist/style.css'

function App() {
  return (
    <ReactUploader
      endpoint="/api/upload"
      autoUpload={true}
      validation={{ accept: 'image/*', maxSize: 10 * 1024 * 1024 }}
      onUploadSuccess={(fileId, response) => {
        console.log('ä¸Šä¼ æˆåŠŸï¼', response)
      }}
    />
  )
}
```

---

## ğŸ¯ ç¤ºä¾‹æ¼”ç¤º

æˆ‘ä»¬æä¾›äº† **3 ä¸ªå®Œæ•´çš„ç¤ºä¾‹é¡¹ç›®**ï¼Œå±•ç¤ºæ‰€æœ‰åŠŸèƒ½ï¼š

### 1. Vanilla JavaScript ç¤ºä¾‹

```bash
cd libraries/upload/examples/vanilla
pnpm install && pnpm dev
```
ğŸŒ è®¿é—®: http://localhost:5173

### 2. Vue 3 ç¤ºä¾‹

```bash
cd libraries/upload/examples/vue
pnpm install && pnpm dev
```
ğŸŒ è®¿é—®: http://localhost:5174

**åŒ…å« 6 ä¸ªå®Œæ•´ç¤ºä¾‹**:
- VueUploader ç»„ä»¶
- useUploader Composable
- å›¾ç‰‡å‹ç¼©
- åˆ†ç‰‡ä¸Šä¼ 
- æ‹–æ‹½åŒº
- æ·±è‰²ä¸»é¢˜

### 3. React ç¤ºä¾‹

```bash
cd libraries/upload/examples/react
pnpm install && pnpm dev
```
ğŸŒ è®¿é—®: http://localhost:5175

**åŒ…å« 6 ä¸ªå®Œæ•´ç¤ºä¾‹**:
- ReactUploader ç»„ä»¶
- useUploader Hook
- å›¾ç‰‡å‹ç¼©
- åˆ†ç‰‡ä¸Šä¼ 
- æ‹–æ‹½åŒº
- æ·±è‰²ä¸»é¢˜

---

## ğŸ’¡ é«˜çº§ç”¨æ³•

### åˆ†ç‰‡ä¸Šä¼  + æ–­ç‚¹ç»­ä¼ 

```typescript
const uploader = new Uploader({
  container: '#uploader',
  endpoint: '/api/upload',
  chunked: true,
  chunkSize: 5 * 1024 * 1024, // 5MB åˆ†ç‰‡
  concurrent: 3, // åŒæ—¶ä¸Šä¼  3 ä¸ªåˆ†ç‰‡
  retries: 3, // å¤±è´¥é‡è¯• 3 æ¬¡
})
```

### è‡ªå®šä¹‰äº‘å­˜å‚¨é€‚é…å™¨

```typescript
import { BaseStorageAdapter } from '@ldesign/upload/adapters'

class S3Adapter extends BaseStorageAdapter {
  name = 's3'
  
  async upload(file: File, options: UploadOptions): Promise<UploadResult> {
    const presignedUrl = await this.getPresignedUrl(file)
    const response = await fetch(presignedUrl, {
      method: 'PUT',
      body: file
    })
    return { success: response.ok, url: presignedUrl.split('?')[0] }
  }
}

const uploader = new Uploader({
  adapter: new S3Adapter()
})
```

### å›¾ç‰‡è‡ªåŠ¨å‹ç¼©

```typescript
const uploader = new Uploader({
  endpoint: '/api/upload',
  imageProcess: {
    compress: true,
    quality: 0.8,
    maxWidth: 1920,
    maxHeight: 1080,
    format: 'webp'
  }
})
```

### æ‰¹é‡æ“ä½œ

```typescript
import { BatchProcessor } from '@ldesign/upload'

const processor = new BatchProcessor()

// æ‰¹é‡å‹ç¼©æ‰€æœ‰å›¾ç‰‡
const results = await processor.batchCompress(files, {
  quality: 0.8,
  maxWidth: 1920
})

// æŒ‰ç±»å‹åˆ†ç»„
const groups = processor.groupFilesByType(files)
console.log('Images:', groups.get('image')?.length)

// æ’åº
const sortedBySize = processor.sortFilesBySize(files, false)
```

---

## ğŸ“š æ–‡æ¡£

### æ ¸å¿ƒæ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](./QUICK_START.md) - 5 åˆ†é’Ÿä¸Šæ‰‹
- [API æ–‡æ¡£](./docs/API.md) - å®Œæ•´ API å‚è€ƒ
- [äº‘å­˜å‚¨é›†æˆ](./docs/CLOUD_STORAGE_GUIDE.md) - S3/OSS/COS é›†æˆ
- [é«˜çº§åŠŸèƒ½](./docs/ADVANCED_FEATURES.md) - æ‰¹é‡æ“ä½œã€é”™è¯¯å¤„ç†ã€å†å²è®°å½•

### ç¤ºä¾‹é¡¹ç›®
- [è¿è¡Œç¤ºä¾‹æŒ‡å—](./RUN_EXAMPLES.md) - å¦‚ä½•è¿è¡Œæ‰€æœ‰ç¤ºä¾‹
- [ç¤ºä¾‹ç›®å½•](./examples/README.md) - ç¤ºä¾‹æ¦‚è§ˆ

### å¼€å‘æ–‡æ¡£
- [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md) - å¦‚ä½•è´¡çŒ®ä»£ç 
- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md) - ç‰ˆæœ¬å†å²

---

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

ä½¿ç”¨ CSS å˜é‡è‡ªå®šä¹‰ä¸»é¢˜ï¼š

```css
:root {
  --uploader-primary-color: #3b82f6;
  --uploader-success-color: #10b981;
  --uploader-error-color: #ef4444;
  --uploader-border-radius: 8px;
  --uploader-font-family: system-ui, sans-serif;
}
```

---

## ğŸ“Š æµè§ˆå™¨æ”¯æŒ

- Chrome >= 90
- Firefox >= 88
- Safari >= 14
- Edge >= 90

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
@ldesign/upload
â”œâ”€â”€ æ ¸å¿ƒå±‚ (Vanilla JS)
â”‚   â”œâ”€â”€ Uploader - ä¸»ç±»
â”‚   â”œâ”€â”€ FileManager - é˜Ÿåˆ—ç®¡ç†
â”‚   â”œâ”€â”€ ChunkManager - åˆ†ç‰‡ç®¡ç†
â”‚   â”œâ”€â”€ ValidationManager - éªŒè¯
â”‚   â”œâ”€â”€ ProgressTracker - è¿›åº¦
â”‚   â””â”€â”€ InteractionManager - äº¤äº’
â”œâ”€â”€ å¤„ç†å™¨å±‚
â”‚   â”œâ”€â”€ ImageProcessor - å›¾ç‰‡å¤„ç†
â”‚   â””â”€â”€ VideoProcessor - è§†é¢‘å¤„ç†
â”œâ”€â”€ é€‚é…å™¨å±‚
â”‚   â”œâ”€â”€ HTTPAdapter - HTTP ä¸Šä¼ 
â”‚   â””â”€â”€ BaseStorageAdapter - äº‘å­˜å‚¨åŸºç±»
â”œâ”€â”€ UI å±‚
â”‚   â”œâ”€â”€ Dashboard - ä¸»é¢æ¿
â”‚   â”œâ”€â”€ FileItem - æ–‡ä»¶é¡¹
â”‚   â””â”€â”€ DropZone - æ‹–æ‹½åŒº
â””â”€â”€ æ¡†æ¶é€‚é…å±‚
    â”œâ”€â”€ Vue 3 - ç»„ä»¶ + Composable
    â””â”€â”€ React - ç»„ä»¶ + Hook
```

---

## ğŸ“ˆ æ€§èƒ½

- **Bundle å¤§å°**: ~35KB (gzipped, æ ¸å¿ƒ + UI)
- **Tree-shakeable**: æŒ‰éœ€å¯¼å…¥ï¼Œæ›´å°ä½“ç§¯
- **é›¶ä¾èµ–**: æ ¸å¿ƒåº“æ— å¤–éƒ¨ä¾èµ–
- **é«˜æ€§èƒ½**: ç§»åŠ¨å¹³å‡ç®—æ³•ã€æ–­ç‚¹ç»­ä¼ 

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·é˜…è¯» [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md)ã€‚

---

## ğŸ“„ è®¸å¯è¯

MIT Â© LDesign Team

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](#)
- [é—®é¢˜åé¦ˆ](#)
- [è®¨è®ºåŒº](#)
- [LDesign å®˜ç½‘](#)

---

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ï¼

---

**Built with â¤ï¸ by LDesign Team**
